HTTP报文格式
====
http报文分为请求报文和响应报文两种，浏览器向服务器发送请求报文，服务器处理后向浏览器返回响应报文

请求报文
---
- 请求行，请求头部，空行，请求数据

响应报文
---
- 状态行，消息报头，空行，响应正文

HTTP状态码
===
- 1xx 请求已接受，继续处理
- 2xx 请求正常处理完毕
- 3xx 重定向
- 4xx 客户端错误
- 5xx 服务器端错误

有限状态机
===
有限状态机可以通过if-else,switch-case和函数指针来实现

主状态机
---
三个状态，标识解析位置
- 解析请求行
- 解析请求头
- 解析消息体，仅用于解析POST请求

从状态机
---
三个状态，标识解析一行的读取状态
- 完整读取一行
- 报文语法有误
- 读取的行不完整



HTTP处理流程
====

http报文处理流程
---
1. 浏览器发出http连接请求，主线程创建http对象接受请求并将所有数据读入对应的buffer，将该对象插入任务队列，工作线程从任务队列中取出一个任务进行处理
2. 工作线程取出任务后，调用process_read函数，通过主从状态机对请求报文进行解析
3. 解析完后，跳转do_request函数生成响应报文，通过process_write写入buffer，返回给浏览器



